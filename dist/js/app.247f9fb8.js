(function(t){function e(e){for(var s,l,r=e[0],c=e[1],a=e[2],d=0,h=[];d<r.length;d++)l=r[d],Object.prototype.hasOwnProperty.call(o,l)&&o[l]&&h.push(o[l][0]),o[l]=0;for(s in c)Object.prototype.hasOwnProperty.call(c,s)&&(t[s]=c[s]);u&&u(e);while(h.length)h.shift()();return i.push.apply(i,a||[]),n()}function n(){for(var t,e=0;e<i.length;e++){for(var n=i[e],s=!0,r=1;r<n.length;r++){var c=n[r];0!==o[c]&&(s=!1)}s&&(i.splice(e--,1),t=l(l.s=n[0]))}return t}var s={},o={app:0},i=[];function l(e){if(s[e])return s[e].exports;var n=s[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,l),n.l=!0,n.exports}l.m=t,l.c=s,l.d=function(t,e,n){l.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},l.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},l.t=function(t,e){if(1&e&&(t=l(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(l.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)l.d(n,s,function(e){return t[e]}.bind(null,s));return n},l.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return l.d(e,"a",e),e},l.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},l.p="";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],c=r.push.bind(r);r.push=e,r=r.slice();for(var a=0;a<r.length;a++)e(r[a]);var u=c;i.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},2395:function(t,e,n){},"56d7":function(t,e,n){"use strict";n.r(e);var s=n("2b0e"),o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("div",{staticClass:"content"},[n("div",{staticClass:"side-bar"},[n("div",{staticClass:"new-btn"},[n("button",{attrs:{title:t.showBtnTitle},on:{click:t.newNote}},[t._v("新建笔记")])]),t._l(t.notes,(function(e){return n("div",{staticClass:"list",class:{selected:e===t.selectedNote},on:{click:function(n){return t.selectNote(e)}}},[n("div",{staticClass:"font"},[t._v(t._s(e.title))])])}))],2),n("div",{staticClass:"edit-panel"},[n("div",{staticClass:"edit-bar"},[n("input",{ref:"title",attrs:{type:"text",value:"无标题笔记",onfocus:"if(value == '无标题笔记' ){value=''}",onblur:"if(value == '' ){value='无标题笔记'}",disabled:t.isShow},on:{input:t.updateTitle}}),n("button",{staticClass:"del-btn",on:{click:t.removeNote}},[t._v("删除选中笔记")]),n("button",{staticClass:"delall-btn",on:{click:t.removeAllNote}},[t._v("清空笔记")])]),n("div",{staticClass:"txt-edit"},[n("div",{ref:"leftBox",staticClass:"leftBox"},[n("div",{staticClass:"lefNum"},t._l(t.linesCount,(function(e){return n("div",[t._v(t._s(e))])})),0)]),n("textarea",{directives:[{name:"model",rawName:"v-model",value:t.content,expression:"content"}],ref:"txtarea",attrs:{id:"txt-area",disabled:t.isShow},domProps:{value:t.content},on:{input:[function(e){e.target.composing||(t.content=e.target.value)},t.updateContent]}})])]),n("div",{staticClass:"show-panel",domProps:{innerHTML:t._s(t.notePreview)}},[t._v(t._s(t.notePreview))])])])},i=[],l=n("0e54"),r=n.n(l),c={name:"App",data(){return{content:"",notes:JSON.parse(localStorage.getItem("notes"))||[],selectedID:localStorage.getItem("selected-id")||null,title:"无标题笔记",isShow:!0}},mounted(){this.$refs.txtarea.addEventListener("scroll",this.handleScroll),this.selectedNote&&(this.content=this.selectedNote.content,this.isShow=!1),"null"==localStorage.getItem("selected-id")&&(this.selectedID=null)},computed:{notePreview(){return this.selectedNote?r()(this.selectedNote.content):r()(this.content)},showBtnTitle(){return this.notes.length+"条笔记已保存"},selectedNote(){return this.notes.find(t=>t.id===this.selectedID)},linesCount(){return this.content.split(/\r\n|\r|\n/).length}},watch:{notes:{handler:"saveNotes",deep:!0},selectedID(){localStorage.setItem("selected-id",this.selectedID)}},methods:{handleScroll(){let t=this.$refs.txtarea.scrollTop;this.$refs.leftBox.scrollTop=this.$refs.txtarea.scrollTop,console.log(t),console.log("111")},saveNotes(){localStorage.setItem("notes",JSON.stringify(this.notes))},newNote(){const t={id:String(Date.now()),title:"无标题笔记",content:"",created:Date.now()};this.notes.push(t),this.selectedID=t.id,this.$refs.title.value="无标题笔记",this.content="",this.notes.sort((t,e)=>e.created-t.created),this.isShow=!1},selectNote(t){return[this.content=t.content,this.$refs.title.value=t.title,this.selectedID=t.id]},updateTitle(){if(null!==this.selectedID)return this.selectedNote.title=this.$refs.title.value},updateContent(){if(null!==this.selectedID)return this.selectedNote.content=this.content},removeNote(){if(this.selectedNote&&confirm("删除后不可恢复，确定要删除当前笔记吗")){const t=this.notes.indexOf(this.selectedNote);-1!==t&&this.notes.splice(t,1),this.$refs.title.value=this.title,this.content="",this.selectedID=null,this.isShow=!0}else confirm("您还未选中任何笔记！")},removeAllNote(){confirm("笔记清空后不可恢复，确定要清空吗？")&&(this.notes.splice(0,this.notes.length),this.$refs.title.value=this.title,this.content="",this.selectedID=null,this.isShow=!0)}}},a=c,u=(n("7c55"),n("2877")),d=Object(u["a"])(a,o,i,!1,null,null,null),h=d.exports;s["a"].config.productionTip=!1,new s["a"]({render:t=>t(h)}).$mount("#app")},"7c55":function(t,e,n){"use strict";var s=n("2395"),o=n.n(s);o.a}});
//# sourceMappingURL=app.247f9fb8.js.map